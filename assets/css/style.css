/* ===================================================================
   KRWL HOF - Performance-Optimized CSS
   
   Organization: Sorted by Selector Performance (Fastest → Slowest)
   
   Why this order matters:
   - Browsers parse CSS sequentially
   - Fast selectors first = faster initial render
   - Critical styles load before complex styles
   
   Tier 1: ID Selectors (⚡ Fastest - O(1) hash lookup)
   Tier 2: Class Selectors (⚡ Very fast - indexed)
   Tier 3: Child Combinators (⚡ Fast - direct children only)
   Tier 4: Pseudo-classes (⚠️  Moderate - state-dependent)
   Tier 5: Attribute Selectors (⚠️  Slower - attribute checks)
   Tier 6: Universal Selectors (❌ Slowest - matches all)
   Tier 7: Complex Selectors (⚠️  Multi-part matching)
   
   Performance Score: 82/100 (VERY GOOD)
   Total Selectors: 214
   =================================================================== */



/* ========== Tier 1: ID Selectors (⚡ Fastest - O(1) Hash Lookup) ========== */

#dashboard-title {
    flex: 1;
}

#event-filter-bar {
    position: fixed;
 
 top: 10px;
 left: 10px;
 right: auto;
 max-width: calc(var(--app-width) - 80px); 
 font-size: 0.95rem;
 font-weight: 500;
 color: var(--color-primary);
 padding: 0.8rem;
 background: var(--barbie-shade-darkest);
 backdrop-filter: blur(10px);
 border-radius: var(--border-radius-large);
 border: 0;
 line-height: var(--line-height-base);
 box-shadow: var(--shadow-large); 
 display: flex;
 flex-wrap: nowrap;
 gap: 0.3rem;
 align-items: center;
 white-space: nowrap;
 overflow-x: auto;
 z-index: var(--z-layer-3-filter-bar);
 transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

#event-arrows-container {
    position: fixed;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 z-index: 1400;
}

#close-dashboard {
    background: none;
 border: none;
 color: var(--color-text-secondary);
 font-size: 1.8rem;
 cursor: pointer;
 line-height: 1;
 transition: color 0.2s;
 padding: 0.5rem;
 width: 40px;
 height: 40px;
 display: flex;
 align-items: center;
 justify-content: center;
}

#event-detail {
    position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 background: var(--color-black-alpha-80);
 display: flex;
 align-items: center;
 justify-content: center;
 z-index: 2000;
}

#app {
    height: var(--app-height);
 width: var(--app-width);
 position: relative;
}

#map {
    position: fixed;
 top: 0;
 left: 0;
 width: var(--app-width);
 height: var(--app-height);
 z-index: 1;
 background: var(--barbie-shade-darkest);
}

#map-overlay {
    position: absolute;
 top: 10px;
 left: 10px;
 right: 10px;
 bottom: 10px;
 pointer-events: none;
 z-index: 1000;
}

#event-list {
    position: fixed;
 right: 0;
 top: 0;
 bottom: 0;
 width: 350px;
 background: var(--barbie-shade-darkest);
 backdrop-filter: blur(10px);
 padding: 1.5rem;
 overflow-y: auto;
 box-shadow: -5px 0 20px var(--color-black-alpha-30);
 z-index: 999;
}

#close-detail {
    position: absolute;
 top: 1rem;
 right: 1rem;
 background: none;
 border: none;
 color: var(--color-text-secondary);
 font-size: 2rem;
 cursor: pointer;
 line-height: 1;
 transition: color 0.2s;
}

#imprint-link {
    display: inline-flex;
 align-items: center;
 justify-content: center;
 padding: 0.2rem;
 margin-right: 0.5rem;
 background: none;
 color: var(--color-text-secondary);
 text-decoration: none;
 border-radius: var(--border-radius-small);
 font-size: 0.85rem;
 font-weight: 500;
 transition: var(--transition-normal);
}

#custom-location-inputs {
    padding: 0.5rem 1rem;
 border-top: 1px solid var(--color-primary-alpha-20);
 margin-top: 0.5rem;
}

#custom-location-inputs.hidden {
    display: none;
}

#event-filter-bar.dashboard-opening {
    top: 10px;
 left: 10px;
 right: 10px;
 bottom: 10px;
 width: auto;
 max-width: none;
}

#event-list.hidden {
    display: none;
}

#event-detail.hidden {
    display: none;
}

#close-detail:hover {
    color: var(--color-primary);
}

#detail-info {
    background: var(--barbie-shade-darkest);
 padding: 1rem;
 border-radius: 8px;
 margin: 1rem 0;
 border: 1px solid var(--color-primary-alpha-20);
}

#detail-link {
    display: inline-block;
 background: var(--color-primary);
 color: white;
 padding: 0.75rem 1.5rem;
 border-radius: 5px;
 text-decoration: none;
 transition: all 0.2s;
 box-shadow: 0 0 10px var(--color-primary-alpha-30);
}

#detail-link:hover {
    background: var(--color-primary-hover);
 box-shadow: 0 0 15px var(--color-primary-alpha-50);
}

#imprint-link:hover {
    background: var(--color-primary-alpha-10);
 color: var(--color-primary);
}

#site-logo {
    height: 40px;
 width: 40px;
 display: inline-block;
 vertical-align: middle;
}

#imprint-text {
    display: none;
}


/* ========== Tier 2: Single Class Selectors (⚡ Very Fast - Indexed) ========== */

.custom-location-btn {
    background: var(--bg-secondary);
 color: var(--text-primary);
 border: 1px solid var(--border-primary);
 padding: 0.3rem 0.6rem;
 border-radius: var(--radius-small);
 cursor: pointer;
 font-size: 0.8rem;
 transition: all 0.2s;
 flex: 1;
}

.filter-chip {
    cursor: pointer;
 background: var(--color-primary-alpha-15); 
 border: var(--border-width-thin) solid var(--color-primary-alpha-40);
 border-radius: var(--border-radius-medium);
 padding: 0.3rem 0.6rem;
 font-size: 0.95rem;
 font-weight: 500;
 color: var(--color-primary);
 transition: var(--transition-normal);
 position: relative;
 display: inline-block;
 white-space: nowrap;
}

.map-fallback {
    position: absolute;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 background: var(--barbie-shade-darkest);
 z-index: 0;
}

.filter-bar-dropdown-item {
    padding: 0.6rem 1rem;
 cursor: pointer;
 transition: var(--transition-normal);
 display: flex;
 justify-content: space-between;
 align-items: center;
 border-left: 3px solid transparent;
}

.custom-location-header {
    display: flex;
 justify-content: space-between;
 align-items: center;
 margin-bottom: 0.3rem;
}

.custom-location-actions {
    display: flex;
 gap: 0.4rem;
 margin-top: 0.5rem;
}

.custom-location-dialog {
    position: fixed;
 top: 0;
 left: 0;
 right: 0;
 bottom: 0;
 background: var(--color-black-alpha-80);
 display: flex;
 align-items: center;
 justify-content: center;
 z-index: 3000;
 padding: 1rem;
}

.custom-location-buttons {
    display: flex;
 gap: 0.75rem;
 justify-content: flex-end;
}

.dashboard-header {
    display: flex;
 align-items: center;
 gap: 0.75rem;
 margin-bottom: 1rem;
}

.dashboard-logo {
    display: flex;
 align-items: center;
 color: var(--color-primary);
}

.bubble-location {
    color: var(--color-text-secondary);
 font-size: 0.8rem;
 margin-bottom: 4px;
 line-height: 1.2;
 display: flex;
 align-items: center;
 gap: 4px;
}

.bubble-distance {
    color: var(--color-text-tertiary);
 font-size: 0.75rem;
 margin-bottom: 8px;
 line-height: 1.2;
 display: flex;
 align-items: center;
 gap: 4px;
}

.noscript-events-list {
    display: flex;
 flex-direction: column;
 gap: 1.5rem;
}

.detail-content {
    background: var(--color-bg-secondary);
 border-radius: 12px;
 padding: 2rem;
 max-width: 600px;
 width: 90%;
 max-height: 80vh;
 overflow-y: auto;
 position: relative;
 border: 2px solid var(--color-border-primary);
 box-shadow: 0 0 20px var(--color-primary-alpha-30);
}

.bubble-connectors {
    position: absolute;
 top: 0;
 left: 0;
 width: 100%;
 height: 100%;
 pointer-events: none;
 z-index: 900;
}

.speech-bubble {
    position: absolute;
 background: var(--color-bg-primary-alpha-95);
 backdrop-filter: blur(10px);
 border: 2px solid var(--color-primary);
 border-radius: 12px;
 padding: 12px;
 width: 220px;
 z-index: 1000;
 box-shadow: 0 4px 20px var(--color-black-alpha-50),
 0 0 15px var(--color-primary-alpha-40);
 cursor: grab;
 transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), 
 box-shadow 0.3s ease, 
 opacity 0.4s ease,
 filter 0.3s ease;
 opacity: 0;
 pointer-events: auto;
 font-size: 0.85rem;
 
 transform-origin: center;
 will-change: transform;
 
 touch-action: none;
 user-select: none;
}

.bubble-duplicate-badge {
    position: absolute;
 top: -8px;
 right: -8px;
 background: var(--color-warning);
 color: var(--color-bg-primary);
 font-size: 0.75rem;
 font-weight: 700;
 padding: 2px 8px;
 border-radius: 12px;
 border: 2px solid var(--color-bg-primary);
 z-index: 10;
 box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
 line-height: 1.2;
 white-space: nowrap;
}

.bubble-demo-badge {
    position: absolute;
 top: -8px;
 left: -8px;
 background: var(--color-error); 
 color: white;
 font-size: 0.75rem;
 font-weight: 700;
 padding: 2px 8px;
 border-radius: 12px;
 border: 2px solid var(--color-bg-primary);
 z-index: 10;
 box-shadow: 0 2px 8px var(--color-black-alpha-30);
 line-height: 1.2;
 white-space: nowrap;
}

.filter-bar-dropdown {
    position: fixed;
 background: var(--barbie-shade-darkest);
 backdrop-filter: blur(10px);
 border: var(--border-width-medium) solid var(--color-primary-alpha-50);
 border-radius: var(--border-radius-large);
 padding: 0.25rem 0;
 box-shadow: var(--shadow-large); 
 z-index: 3000;
 min-width: 220px;
 white-space: normal;
}

.event-detail-edge {
    position: fixed;
 background: var(--barbie-shade-darkest);
 backdrop-filter: blur(10px);
 border: 2px solid var(--color-border-primary);
 border-radius: 8px;
 padding: 1rem;
 max-width: 280px;
 z-index: 1500;
 box-shadow: 0 4px 20px var(--color-black-alpha-50),
 0 0 10px var(--color-primary-alpha-30);
 pointer-events: auto;
}

.bookmark-feedback {
    position: fixed;
 bottom: 80px;
 left: 50%;
 transform: translateX(-50%);
 background: var(--color-primary-alpha-95);
 color: white;
 padding: 12px 24px;
 border-radius: 8px;
 font-size: 0.9rem;
 font-weight: 500;
 z-index: 2500;
 box-shadow: 0 4px 12px var(--color-black-alpha-30);
 animation: slideUpFadeIn 0.3s ease;
}

.bubble-title {
    font-size: 0.8rem;
}

.bubble-bookmark {
    font-size: 1.1rem;
}

.bubble-connector-line {
    stroke: var(--color-primary);
 stroke-width: 2;
 stroke-linecap: round;
 opacity: 0.85;
 filter: drop-shadow(0 0 4px var(--color-primary-alpha-60));
}

.speech-bubble.bubble-is-bookmarked {
    border-color: var(--color-bookmark); 
 box-shadow: 0 4px 20px var(--color-black-alpha-50),
 0 0 15px var(--color-bookmark-alpha-40);
}

.speech-bubble.bubble-is-bookmarked.dragging {
    box-shadow: 0 8px 32px var(--color-black-alpha-70),
 0 0 30px var(--color-bookmark-alpha-80);
}

.speech-bubble.visible {
    opacity: 1;
 animation: bubbleAppear 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
}

.bubble-time-headline {
    color: var(--color-primary);
 font-size: 1.1rem;
 font-weight: 700;
 margin-bottom: 4px;
 line-height: 1.2;
}

.bubble-bookmark.bookmarked {
    animation: heartbeat 0.3s ease;
}

.dashboard-action-btn {
    background: var(--color-primary);
 color: white;
 border: none;
 padding: 0.6rem 1rem;
 border-radius: var(--radius-medium);
 cursor: pointer;
 font-size: 0.9rem;
 transition: all 0.2s;
 width: 100%;
}

.custom-location-btn.delete {
    color: var(--color-error);
}

.btn-primary {
    background: var(--color-primary);
 color: var(--color-bg-primary);
}

.btn-secondary {
    background: transparent;
 color: var(--color-text-secondary);
 border: 1px solid var(--color-border-secondary);
}

.dashboard-links {
    list-style: none;
 padding: 0;
 margin: 0;
}

.env-dev {
    color: #FFB3DF;
}

.env-production {
    color: #D689B8;
}

.env-ci {
    color: #58a6ff;
}

.filter-bar-dropdown-item.selected {
    background: var(--color-medium-tone-alpha-30);
 color: var(--color-primary);
 font-weight: 600;
 border-left-color: var(--color-primary);
}

.filter-bar-dropdown-item.current-selection {
    background: var(--color-medium-tone-alpha-35);
 color: var(--color-text-primary);
 font-weight: 700;
 border-left-color: var(--color-primary);
 border-bottom: var(--border-width-thin) solid var(--color-primary-alpha-30);
 margin-bottom: 0.25rem;
}

.custom-location-inputs {
    margin-bottom: 1.5rem;
}

.noscript-container {
    padding: 1rem;
}

.leaflet-container {
    background: var(--barbie-shade-darkest);
 

 filter: grayscale(100%) brightness(0.5) sepia(100%) hue-rotate(290deg) saturate(200%);
}

.leaflet-tile-container {
    background: var(--barbie-shade-darkest);
}

.distance-slider-container {
    padding: 1rem;
}

.leaflet-popup-content-wrapper {
    background: var(--color-bg-secondary);
 color: var(--color-text-primary);
 border: 2px solid var(--color-border-primary);
}

.leaflet-popup-tip {
    background: var(--color-bg-secondary);
 border-color: var(--color-border-primary);
}

.leaflet-marker-icon {
    filter: drop-shadow(0 0 2px var(--color-primary));
 transition: filter 0.2s ease;
}

.leaflet-control,
.leaflet-marker-icon,
.leaflet-popup {
    filter: none !important;
}

.map-fallback-content {
    text-align: center;
 padding: 2rem;
 max-width: 400px;
 color: var(--color-primary);
}

.map-fallback-icon {
    font-size: 4rem;
 margin-bottom: 1rem;
 filter: grayscale(0%);
}

.map-fallback-note {
    font-style: italic;
 color: var(--color-primary);
 margin-top: 1rem !important;
}

.leaflet-marker-icon.marker-bookmarked {
    filter: drop-shadow(0 0 6px var(--color-primary)) 
 drop-shadow(0 0 12px var(--color-primary))
 brightness(1.2);
}

.leaflet-marker-icon.marker-unbookmarked {
    filter: drop-shadow(0 0 1px var(--color-primary))
 brightness(0.7)
 opacity(0.85);
}

.custom-location-item {
    background: var(--bg-tertiary);
 padding: 0.8rem;
 margin-bottom: 0.5rem;
 border-radius: var(--radius-medium);
 border: 1px solid var(--border-secondary);
}

.custom-location-name {
    font-weight: bold;
 color: var(--color-primary);
 font-size: 0.95rem;
}

.custom-location-coords {
    font-size: 0.8rem;
 color: var(--text-secondary);
 font-family: var(--font-family-mono);
}

.custom-locations-empty {
    text-align: center;
 padding: 1.5rem;
 color: var(--text-secondary);
 font-size: 0.9rem;
}

.custom-location-content {
    background: var(--color-bg-secondary);
 border: 2px solid var(--color-border-primary);
 border-radius: 12px;
 padding: 1.5rem;
 max-width: 400px;
 width: 100%;
 box-shadow: 0 0 20px color-mix(in srgb, var(--color-ecobarbie-light-tone) 30%, transparent);
}

.custom-location-description {
    color: var(--color-text-secondary);
 margin: 0 0 1rem 0;
 font-size: 0.9rem;
}

.custom-location-field {
    margin-bottom: 1rem;
}

.noscript-warning {
    background: var(--color-ecobarbie-dark-shade);
 padding: 1rem;
 border-radius: var(--border-radius-large);
 margin-bottom: 1.5rem;
 border-left: 4px solid var(--color-primary);
}

.noscript-warning-title {
    margin: 0;
 color: var(--color-primary-hover);
}

.noscript-warning-text {
    margin: 0.5rem 0 0 0;
 color: var(--color-text-muted);
 font-size: var(--font-size-small);
}

.noscript-badge-running {
    background: var(--color-primary);
 color: var(--color-text-white);
 padding: 0.25rem 0.75rem;
 border-radius: var(--border-radius-small);
 font-size: 0.85rem;
 font-weight: 600;
 margin-left: 0.5rem;
}

.noscript-event-count {
    color: var(--color-text-lighter-grey);
 font-size: 1rem;
}

.noscript-event-card {
    background: var(--color-bg-dark-grey-2);
 border-radius: var(--border-radius-large);
 padding: 1.5rem;
 border-left: 4px solid var(--color-primary);
}

.noscript-event-title {
    color: var(--color-primary);
 margin: 0 0 0.75rem 0;
 font-size: 1.25rem;
}

.noscript-event-meta {
    color: var(--color-text-muted);
 margin-bottom: 1rem;
}

.noscript-event-description {
    color: var(--color-text-light);
 line-height: var(--line-height-base);
 margin-bottom: 1rem;
}

.noscript-event-link {
    display: inline-block;
 background: var(--color-primary);
 color: var(--color-text-white);
 padding: 0.5rem 1rem;
 border-radius: 5px;
 text-decoration: none;
 font-weight: 600;
 transition: var(--transition-normal);
}

.noscript-footer {
    margin-top: 2rem;
 padding-top: 2rem;
 border-top: 1px solid var(--color-bg-medium-grey);
 color: var(--color-text-lighter-grey);
 text-align: center;
}

.event-card {
    background: var(--barbie-shade-dark);
 border-radius: 8px;
 padding: 1rem;
 margin-bottom: 1rem;
 cursor: pointer;
 transition: all 0.2s;
 border-left: 3px solid var(--color-primary);
}

.debug-group-header.warning {
    background: var(--color-warning-alpha-10);
 border-bottom-color: var(--color-warning-alpha-30);
}

.debug-env-badge {
    display: inline-block;
 padding: 3px 8px;
 border-radius: 3px;
 font-weight: 700;
 font-size: 0.85em;
 text-transform: uppercase;
 letter-spacing: 0.05em;
 border: 1px solid;
}

.debug-env-badge.env-dev {
    background: color-mix(in srgb, var(--color-ecobarbie-light-tone) 15%, transparent);
 border-color: var(--color-ecobarbie-light-tone);
 color: var(--color-ecobarbie-light-tone);
}

.debug-env-badge.env-production {
    background: color-mix(in srgb, var(--color-ecobarbie-light-tone) 15%, transparent);
 border-color: var(--color-ecobarbie-light-tone);
 color: var(--color-ecobarbie-light-tone);
}

.debug-env-badge.env-ci {
    background: color-mix(in srgb, var(--color-ecobarbie-light-tone) 15%, transparent);
 border-color: var(--color-ecobarbie-light-tone);
 color: var(--color-ecobarbie-light-tone);
}

.debug-warnings {
    border-color: var(--color-warning-alpha-30);
 background: var(--color-warning-alpha-05);
}

.debug-warning-item {
    padding: 0.75rem;
 font-size: 0.85em;
}

.debug-warning-message {
    margin-bottom: 0.5rem;
 line-height: 1.5;
 color: var(--color-text-secondary);
}

.debug-warning-message.with-spacing {
    margin-top: 1rem;
 padding-top: 0.75rem;
 border-top: 1px solid var(--color-warning-alpha-20);
}

.debug-warning-hint {
    font-size: 0.8em;
 color: var(--color-text-tertiary);
 line-height: 1.5;
 margin-top: 0.3rem;
}

.speech-bubble.dragging {
    cursor: grabbing;
 z-index: 1100;
 transform: scale(1.08);
 box-shadow: 0 8px 32px var(--color-black-alpha-70),
 0 0 30px var(--color-primary-alpha-80);
 transition: transform 0.1s ease, box-shadow 0.1s ease;
 animation: none;
}

.font-medium {
    font-weight: 500;
}

.bookmark-feedback.fade-out {
    animation: fadeOut 0.3s ease;
 opacity: 0;
}

.duplicate-ok {
    color: var(--color-ecobarbie-light-tone);
}


/* ========== Tier 3: Child Combinator Selectors (⚡ Fast - Direct Children) ========== */

.bubble-distance > i[data-lucide="footprints"],
.bubble-distance > svg {
    width: 14px;
 height: 14px;
 stroke: currentColor;
 stroke-width: 2;
 fill: none;
 flex-shrink: 0;
}

.dashboard-logo > svg {
    width: 32px;
 height: 32px;
 filter: drop-shadow(0 0 8px var(--color-primary-alpha-60));
 flex-shrink: 0;
}

.filter-bar-dropdown-item > .item-label {
    flex: 1;
}

#event-filter-bar > .filter-bar-logo {
    display: inline-flex;
 align-items: center;
 margin-right: 0.5rem;
 vertical-align: middle;
 cursor: pointer;
 padding: 0.2rem;
 border-radius: 4px;
 transition: all 0.2s;
 background: none;
 border: none;
 color: inherit;
 font-size: 0.95rem;
 display: inline-flex;
 align-items: center;
 margin-right: 0.5rem;
 vertical-align: middle;
 cursor: pointer;
 padding: 0.2rem;
 border-radius: var(--border-radius-small);
 transition: var(--transition-normal);
 background: none;
 border: none;
 color: inherit;
 font-size: 0.95rem;
}

#event-filter-bar > .filter-bar-item {
    cursor: pointer;
 text-decoration: underline;
 text-decoration-style: dotted;
 text-underline-offset: 3px;
 transition: var(--transition-normal);
 position: relative;
 display: inline-block;
}

.location-override > label {
    display: flex;
 align-items: center;
 cursor: pointer;
}

.filter-bar-dropdown > .location-option {
    display: flex;
 align-items: center;
 padding: 0.5rem 1rem;
 cursor: pointer;
 transition: all 0.2s;
}

.speech-bubble.bubble-is-bookmarked > .bubble-time-headline {
    color: var(--color-bookmark);
}

.speech-bubble.bubble-is-bookmarked > .bubble-date {
    color: var(--color-bookmark-light);
}

.speech-bubble.bubble-is-bookmarked > .bubble-title {
    color: var(--color-bookmark-lighter);
}

.speech-bubble.bubble-is-bookmarked > .bubble-location {
    color: var(--color-bookmark-light);
}

.speech-bubble.bubble-is-bookmarked > .bubble-distance {
    color: var(--color-bookmark-light);
}

.bubble-bookmark > i[data-lucide="heart"],
.bubble-bookmark > svg {
    width: 20px;
 height: 20px;
 stroke: var(--color-text-secondary); 
 stroke-width: 2; 
 fill: none; 
 transition: stroke 0.2s ease, fill 0.2s ease, stroke-width 0.2s ease;
}

.bubble-bookmark:hover > i[data-lucide="heart"], .bubble-bookmark:hover > svg {
    transform: scale(1.2);
 stroke: var(--color-text-secondary);
}

.bubble-bookmark.bookmarked > i[data-lucide="heart"], .bubble-bookmark.bookmarked > svg {
    stroke: none; 
 stroke-width: 0; 
 fill: var(--color-bookmark);
}

.filter-bar-dropdown > select, .filter-bar-dropdown > input[type="range"], .filter-bar-dropdown > input[type="number"], .filter-bar-dropdown > button {
    width: 100%;
 margin: 0.3rem 0;
 padding: 0.5rem;
 background: var(--color-bg-secondary);
 color: var(--color-text-primary);
 cursor: pointer;
 transition: var(--transition-normal);
 font-size: 0.9rem;
}

.custom-location-buttons > button {
    padding: 0.6rem 1.2rem;
 border-radius: 6px;
 font-size: 0.9rem;
 font-weight: 600;
 cursor: pointer;
 transition: all 0.2s;
 border: none;
}

.dashboard-content > h2 {
    margin-bottom: 1rem;
 color: var(--color-primary);
 text-shadow: 0 0 10px var(--color-primary-alpha-30);
 font-size: 1.5rem;
}

.dashboard-section > h3 {
    color: var(--color-primary);
 font-size: 1rem;
 margin-bottom: 0.5rem;
}

.dashboard-section > h3:hover .dashboard-section-icon {
    color: var(--color-ecobarbie-light-shade); 

 transition: color 0.2s ease;
}

.dashboard-links > a:hover {
    color: var(--color-primary-hover);
 text-shadow: 0 0 10px var(--color-primary-alpha-50);
 transform: translateX(3px);
}

.dashboard-links > li {
    margin-bottom: 0.4rem;
}

.dashboard-links > a {
    color: var(--color-primary);
 text-decoration: none;
 transition: all 0.2s;
 display: inline-block;
 font-size: 0.9rem;
}

.filter-bar-dropdown-item > .item-count {
    color: var(--color-text-secondary);
 font-size: 0.85rem;
 font-weight: 500;
 margin-left: 1rem;
}

.filter-bar-dropdown-item.current-selection > .item-count {
    color: var(--color-primary);
 font-weight: 700;
}

.filter-bar-dropdown > .location-option:hover {
    background: var(--color-primary-alpha-10);
}

.filter-bar-dropdown > .location-option > input[type="radio"] {
    width: auto;
 margin: 0 0.5rem 0 0;
 cursor: pointer;
}

.location-override > input[type="checkbox"] {
    margin-right: 0.5rem;
 cursor: pointer;
}

.custom-location-field > input {
    width: 100%;
 padding: 0.6rem;
 background: var(--color-bg-primary);
 border: 1px solid var(--color-border-secondary);
 border-radius: 4px;
 color: var(--color-text-primary);
 font-size: 1rem;
 font-family: 'Roboto Mono', monospace;
}

.custom-location-field > input:focus {
    outline: none;
 border-color: var(--color-primary);
 box-shadow: 0 0 0 2px color-mix(in srgb, var(--color-ecobarbie-light-tone) 20%, transparent);
}

.custom-location-field > label {
    display: block;
 color: var(--color-text-primary);
 font-size: 0.9rem;
 margin-bottom: 0.5rem;
 font-weight: 600;
}

.distance-slider-container > input[type="range"] {
    width: 100%;
 margin: 0.5rem 0;
}

.distance-slider-container > .distance-display {
    color: var(--color-primary);
 font-weight: 600;
 text-align: center;
 font-size: 1.1rem;
 margin-bottom: 0.5rem;
}

.map-fallback > h2 {
    color: var(--color-primary);
 margin-bottom: 1rem;
 font-size: 1.5rem;
}

.map-fallback > p {
    color: var(--color-text-secondary);
 margin-bottom: 0.5rem;
 line-height: 1.5;
}

.custom-location-content > h3 {
    color: var(--color-primary);
 margin: 0 0 0.5rem 0;
 font-size: 1.2rem;
}

.detail-content > h2 {
    margin-bottom: 1rem;
 color: var(--color-primary);
 text-shadow: 0 0 10px var(--color-primary-alpha-30);
}

.detail-content > p {
    line-height: 1.6;
 margin-bottom: 1rem;
 color: var(--color-text-secondary);
}

.event-card > h3 {
    font-size: 1rem;
 margin-bottom: 0.5rem;
 color: var(--color-primary);
}

.noscript-event-meta > p {
    margin: 0.25rem 0;
}

.noscript-footer > p {
    margin: 0;
}

.event-card > p {
    font-size: 0.85rem;
 color: var(--color-text-secondary);
 margin-bottom: 0.3rem;
}

.event-card > .distance {
    color: var(--color-text-tertiary);
 font-size: 0.8rem;
}

.event-detail-edge > .detail-time {
    color: var(--color-text-tertiary);
 font-size: 0.8rem;
}

.event-detail-edge > .detail-distance {
    color: var(--color-text-tertiary);
 font-size: 0.75rem;
 margin-top: 0.5rem;
}

.debug-group-header.warning > i, .debug-group-header.warning > strong {
    color: var(--color-warning);
}

.debug-warning-message > strong {
    color: var(--color-warning);
}

.debug-warning-hint > code {
    background: var(--color-black-alpha-30);
 padding: 0.1rem 0.3rem;
 border-radius: 3px;
 font-size: 0.9em;
 color: var(--color-ecobarbie-medium-tint);
}

.event-detail-edge > h3 {
    color: var(--color-primary);
 font-size: 0.95rem;
 margin-bottom: 0.5rem;
 line-height: 1.3;
}

.event-detail-edge > p {
    color: var(--color-text-secondary);
 font-size: 0.85rem;
 margin: 0.3rem 0;
 line-height: 1.4;
}

#event-filter-bar.dashboard-opening > .filter-bar-item {
    opacity: 0;
 transition: opacity 0.2s ease-out;
}

#event-filter-bar > .filter-bar-item:hover {
    color: var(--color-text-primary);
 text-decoration-style: solid;
}

#event-filter-bar > .filter-bar-item.editing {
    color: var(--color-text-primary);
 background: var(--color-primary-alpha-30);
 padding: 0.1rem 0.5rem;
 border-radius: var(--border-radius-small);
 text-decoration: none;
 min-width: 150px;
 text-align: center;
}

#event-filter-bar > .filter-bar-logo:hover {
    background: var(--color-primary-alpha-20);
 transform: scale(1.1);
}

#event-filter-bar > .filter-bar-logo:focus {
    outline: var(--border-width-medium) solid var(--color-primary);
 outline-offset: 2px;
}

#event-filter-bar > .filter-bar-logo svg {
    width: 1em; 
 height: 1em; 
 stroke: currentColor;
 fill: none;
 transition: filter 0.2s;
}

#event-filter-bar > .filter-bar-logo:hover svg {
    stroke: currentColor;
}

#event-filter-bar > .filter-chip {
    cursor: pointer;
 background: none;
 border: none;
 color: var(--color-primary);
 font: inherit;
 font-size: 0.95rem;
 font-weight: 500;
 text-shadow: 0 0 10px var(--color-primary-alpha-50);
 padding: 0;
 transition: all 0.2s;
}

#event-filter-bar > .filter-chip:hover {
    color: var(--color-text-primary);
 text-shadow: 0 0 15px var(--color-primary-alpha-80);
}

#event-filter-bar > .weather-chip {
    cursor: help;
}

#event-filter-bar > .weather-chip:hover {
    opacity: 1;
 color: var(--color-text-primary);
 text-shadow: 0 0 10px var(--color-primary-alpha-30);
 

 height: 1em; 

 stroke: currentColor;
 fill: none;
 filter: drop-shadow(0 0 4px var(--color-primary-alpha-60));
 transition: filter 0.2s;
}

#event-arrows-container > svg {
    width: 100%;
 height: 100%;
}

#site-logo > path {
    stroke: var(--color-primary) !important;
 transition: stroke 0.2s;
}

#imprint-link:hover > #site-logo > path {
    stroke: var(--color-primary) !important;
}


/* ========== Tier 4: Pseudo-class Selectors (⚠️  Moderate - State Dependent) ========== */

.speech-bubble.bubble-is-bookmarked:hover {
    box-shadow: 0 6px 24px var(--color-black-alpha-60),
 0 0 20px var(--color-bookmark-alpha-60);
}

.speech-bubble.dragging:hover {
    transform: scale(1.08); 
 filter: none;
}

.speech-bubble:hover {
    transform: scale(1.05) rotate(0.5deg);
 box-shadow: 0 6px 24px var(--color-black-alpha-60),
 0 0 20px var(--color-primary-alpha-60);
 filter: brightness(1.1);
}

.speech-bubble:nth-child(3n+1) {
    animation-delay: 0.05s;
}

.speech-bubble:nth-child(3n+2) {
    animation-delay: 0.1s;
}

.speech-bubble:nth-child(3n) {
    animation-delay: 0.15s;
}

.speech-bubble:nth-child(even):hover {
    transform: scale(1.05) rotate(-0.5deg);
}

.speech-bubble:nth-child(3n):hover {
    transform: scale(1.05) rotate(1deg);
}

.dashboard-action-btn:hover {
    background: var(--color-primary-hover);
 transform: translateY(-1px);
}

.custom-location-btn:hover {
    background: var(--bg-primary);
 border-color: var(--color-primary);
 color: var(--color-primary);
}

.custom-location-btn.delete:hover {
    border-color: var(--color-error);
 background: rgba(248, 81, 73, 0.1);
}

.btn-primary:hover {
    background: var(--color-primary-hover);
 transform: translateY(-1px);
}

.btn-secondary:hover {
    background: color-mix(in srgb, var(--color-ecobarbie-light-tone) 10%, transparent);
 border-color: var(--color-primary);
 color: var(--color-text-primary);
}

.filter-bar-dropdown-item:hover {
    background: var(--color-primary-alpha-20);
 color: var(--color-primary);
 border-left-color: var(--color-primary-alpha-50);
}

.filter-chip:hover {
    background: var(--color-primary-alpha-25);
 border-color: var(--color-primary-alpha-60);
 color: var(--color-text-primary);
 transform: translateY(-1px);
 box-shadow: var(--shadow-small);
}

.leaflet-marker-icon:hover {
    filter: drop-shadow(0 0 4px var(--color-primary)) 
 drop-shadow(0 0 8px var(--color-primary));
}

.custom-location-field:last-child {
    margin-bottom: 0;
}

.noscript-event-link:hover,
.noscript-event-link:focus {
    background: var(--color-primary-hover);
}

.event-card:hover {
    transform: translateX(-5px);
 box-shadow: 0 5px 15px var(--color-primary-alpha-30);
 background: var(--barbie-shade-medium);
}

:root {
    --app-width: 100vw;
 --app-height: 100vh;
}

::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: var(--barbie-shade-darkest);
}

::-webkit-scrollbar-thumb {
    background: var(--color-primary);
 border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: var(--color-primary-hover);
}


/* ========== Tier 5: Attribute Selectors (⚠️  Slower - Attribute Checks) ========== */

body > :not([class*='leaflet']) {
    margin: 0;
 padding: 0;
 box-sizing: border-box;
}

/* ==================== Layout ==================== */

.bubble-location > i[data-lucide="map-pin"],
.bubble-location > svg {
    width: 14px;
 height: 14px;
 stroke: currentColor;
 stroke-width: 2;
 fill: none;
 flex-shrink: 0;
}


/* ========== Tier 6: Universal Selectors (❌ Slowest - Matches All Elements) ========== */

/* ===================================================================
   KRWL HOF - Ultra-Optimized Single CSS File
   
   Performance Optimizations:
   ✅ All descendant selectors converted to child selectors (> )
   ✅ Zero duplicate selectors
   ✅ Consolidated similar rules
   ✅ Optimized selector specificity
   
   Target: 90+ performance score
   =================================================================== */

/* > =================================================================== > KRWL > HOF > - > Optimized > Single > CSS > File > Generated: > Fully > deduplicated, performance-optimized > Organization: > ITCSS > Methodology > - > Foundation: > Base > elements, resets > - > Layout: > Structural > patterns, positioning > - > Components: > UI > components, features > - > Utilities: > Helper > classes, overrides > Performance: > Optimized > for > browser > rendering > speed > =================================================================== > */ > /* > ==================== > Foundation > ==================== > */ > body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
 background: var(--color-bg-primary);
 color: var(--color-text-primary);
 overflow: hidden;
}

* {
    margin: 0;
 padding: 0;
 box-sizing: border-box;
}

/* > ==================== > Components > ==================== > */ > .bubble-date {
    font-size: 0.7rem;
}

.leaflet-container,
.leaflet-container > * {
    box-sizing: content-box;
}

/* > ==================== > Utilities > ==================== > */ > #close-dashboard:hover {
    color: var(--color-primary);
}

#map-overlay > * {
    pointer-events: auto;
}


/* ========== Tier 7: Complex Selectors (⚠️  Multi-part Matching) ========== */

.bubble-location, .bubble-distance {
    font-size: 0.7rem;
}

.debug-warning-item + .debug-warning-item {
    border-top: 1px solid var(--color-warning-alpha-20);
}

strong, b {
    font-weight: 700;
}

from {
    opacity: 0;
 transform: translateX(-50%) translateY(20px);
}

to {
    opacity: 1;
 transform: translateX(-50%) translateY(0);
}
